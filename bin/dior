#!/usr/bin/env ruby

require 'curses'
require 'dior'
require 'dior/player'
require 'dior/views/splash_view'
require 'dior/views/player_view'
require 'dior/views/title_view'
require 'dior/views/input_view'

player = Dior::Player.new('spec/resources/Mezmorized.mp3')

Curses.init_screen
Curses.noecho

begin
  Dior::SplashView.show
  player.play
  while c = Curses.getch
    if c == 'q'
      break
    elsif c == ' '
      player.pause
    end
  end
ensure
  Curses.close_screen
  exit 0
end

player.quit
